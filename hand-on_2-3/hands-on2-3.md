# คู่มือการสร้าง Simple Agent ด้วย Langflow

## บทนำ
คู่มือนี้จะอธิบายการสร้าง Simple Agent ใน Langflow ซึ่งเป็นเครื่องมือสำหรับสร้าง LLM application แบบ visual และ low-code ช่วยให้คุณสามารถสร้าง AI Agent โดยไม่จำเป็นต้องเขียนโค้ดมาก

## วัตถุประสงค์
- แนะนำวิธีการสร้าง AI Agent อย่างง่ายโดยใช้ Langflow
- แสดงวิธีออกแบบ Agent ที่สามารถตอบข้อซักถามและดำเนินการตามคำขอได้
- เข้าใจการทำงานของระบบ Agent-based โดยใช้อินเตอร์เฟซแบบลากวาง

## ส่วนประกอบหลัก
1. **LLM Component** - ใช้โมเดลภาษาขนาดใหญ่เป็นสมองของ Agent
   - ทำหน้าที่ในการประมวลผลคำขอและตัดสินใจว่าจะใช้เครื่องมือใด
   - รับผิดชอบในการสร้างคำตอบสุดท้ายให้กับผู้ใช้

2. **Tool Components** - เครื่องมือที่ Agent สามารถใช้ในการทำงาน
   - เครื่องคิดเลข - สำหรับการคำนวณทางคณิตศาสตร์
   - Wikipedia - สำหรับการค้นหาข้อมูล
   - เครื่องมืออื่นๆ ตามความต้องการ

3. **Agent Component** - ส่วนที่รวม LLM และ Tools เข้าด้วยกัน
   - จัดการการสื่อสารระหว่าง LLM และ Tools
   - ตัดสินใจว่าเมื่อใดควรใช้ Tool ใด และเมื่อใดควรตอบคำถามโดยตรง

## ขั้นตอนการสร้าง Simple Agent

### ขั้นตอนที่ 1: สร้าง Flow ใหม่
1. จากหน้า Dashboard ของ Langflow คลิกที่ปุ่ม **New Flow**
2. เลือก **Simple Agent**

### ขั้นตอนที่ 2: การเลือกและกำหนดค่า LLM
1. คลิกที่คอมโพเนนต์ **OpenAI** ใน Flow
2. ตั้งค่า:
   - ใส่ OpenAI API Key:
     - คลิกที่ปุ่ม **Globe** ในฟิลด์ **openai_api_key**
     - คลิก **Add New Variable** หรือเลือกตัวแปรที่มีอยู่
     - ป้อนหรือเลือก API Key ของคุณ
   - เลือกโมเดลที่ต้องการใช้ (เช่น gpt-3.5-turbo หรือ gpt-4)
   - ปรับค่า Temperature ตามต้องการ (ค่าต่ำสำหรับคำตอบที่แน่นอน, ค่าสูงสำหรับความคิดสร้างสรรค์)

### ขั้นตอนที่ 3: การเพิ่มและกำหนดค่า Tools
1. คอมโพเนนต์ **Calculator** ควรมีอยู่แล้วใน Flow
   - ไม่จำเป็นต้องตั้งค่าเพิ่มเติม ใช้สำหรับการคำนวณทางคณิตศาสตร์

2. คอมโพเนนต์ **Wikipedia** (ถ้ามี):
   - คลิกที่คอมโพเนนต์ Wikipedia
   - กำหนดค่าตามความต้องการ เช่น:
     - Top K: จำนวนผลลัพธ์สูงสุดที่ต้องการ
     - Language: ภาษาของเนื้อหา (เช่น en, th)

3. ต้องการเพิ่ม Tool อื่นๆ:
   - ลากคอมโพเนนต์ Tool จากแถบเมนูด้านซ้ายมาวางใน Flow
   - เชื่อมต่อกับคอมโพเนนต์ Agent
   - กำหนดค่าตามความต้องการ

### ขั้นตอนที่ 4: การกำหนดค่า Agent
1. คลิกที่คอมโพเนนต์ **Agent** ใน Flow
2. ตรวจสอบการเชื่อมต่อ:
   - LLM ต้องเชื่อมต่อกับ Agent
   - Tools ทั้งหมดต้องเชื่อมต่อกับ Agent
3. ตั้งค่า Agent:
   - Agent Type: เลือกประเภทของ Agent (เช่น ZERO_SHOT_REACT_DESCRIPTION)
   - Max Iterations: จำนวนรอบสูงสุดที่ Agent จะพยายามแก้ปัญหา
   - Verbose: เปิดเพื่อดูกระบวนการคิดของ Agent

### ขั้นตอนที่ 5: ทดสอบ Agent
1. คลิกที่ **Build** หรือ **Save** เพื่อบันทึก Flow
2. คลิกที่ **Run** หรือ **Playground** เพื่อเข้าสู่โหมดทดสอบ
3. ป้อนคำถามหรือคำขอในช่องข้อความ เช่น:
   - "คำนวณ 356 × 248"
   - "ใครเป็นนายกรัฐมนตรีของประเทศไทย" (หากมี Wikipedia Tool)
   - "สร้างแผนการเรียนรู้สำหรับนักเรียนระดับชั้นประถมศึกษาปีที่ 4 เรื่องตัวเลขฐานสิบ"
4. คลิก **Submit** เพื่อดูผลลัพธ์

## ประโยชน์
- สร้าง AI Assistant ที่สามารถทำงานอัตโนมัติและตอบคำถามได้
- เข้าใจพื้นฐานการทำงานของ Agent-based systems โดยไม่ต้องเขียนโค้ดมาก
- สามารถขยายความสามารถได้โดยเพิ่ม Tools เพิ่มเติมตามต้องการ
- ทดลองกับระบบ AI แบบ interactive และปรับแต่งได้ทันที

## การแก้ไขปัญหา
- หากไม่ได้รับผลลัพธ์ ตรวจสอบว่า API Key ถูกต้องและเชื่อมต่อทุกคอมโพเนนต์แล้ว
- หาก Agent ไม่ใช้ Tool ที่ควรใช้ ลองปรับคำถามให้ชัดเจนขึ้นหรือตรวจสอบการเชื่อมต่อของ Tool นั้น
- หากเกิดข้อผิดพลาด ตรวจสอบข้อความแจ้งเตือนและแก้ไขตามคำแนะนำ

คู่มือนี้จะช่วยให้คุณสร้าง Simple Agent ใน Langflow ได้อย่างรวดเร็วและมีประสิทธิภาพ เป็นพื้นฐานสำหรับการพัฒนา AI Agent ที่ซับซ้อนยิ่งขึ้นต่อไปในอนาคต